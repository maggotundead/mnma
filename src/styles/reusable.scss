.circle-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    transition: $duration;
    color: #fff;
    border: 1px solid $grey-2;
    svg {
        width: 20px;
        height: 20px;
        transition: $duration;
    }

    &:is(button.white-hover) {
        &:hover {
            background-color: #fff;
            border-color: #fff;
            color: $black;
        }
    }
    &:is(button.theme-hover) {
        &:hover {
            background-color: $theme-color;
            border-color: $theme-color;
            color: $black;
        }
    }
}

.file-input {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    padding: 24px;
    text-align: center;
    transition: $duration;
    border-radius: 24px;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 356 192' preserveAspectRatio='none' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0.5' y='0.5' width='355' height='191' rx='23.5' stroke='%233E3E3E' stroke-dasharray='6 12'/%3E%3C/svg%3E%0A");
    background-size: 100% 100%;

    &:hover {
        &::before {
            opacity: 1;
        }
        .file-input-btn {
            color: $black;
            background-color: #fff;
            border-color: #fff;
        }
    }

    * {
        position: relative;
    }

    &::before {
        content: '';
        position: absolute;
        // inset: 8px;
        inset: 7px;
        opacity: 0;
        border-radius: 16px;
        background-color: $grey-1;
        transition: $duration;
    }
    &-icon {
        svg {
            width: 32px;
            height: 32px;
        }
    }
    &-title {
        margin-top: 24px;
        line-height: 1;
    }
    &-subtitle {
        margin-top: 8px;
        font-size: 14px;
        line-height: 16px;
        color: $grey-3;
    }
    &-btn {
        margin-top: 16px;
        padding: 8px 16px;
        border-radius: 12px;
        border: 1px solid $grey-2;
        font-size: 14px;
        line-height: 16px;
        transition: $duration;
    }
}

.file-item {
    width: 100%;
    display: flex;
    align-items: center;
    padding: 8px 12px;
    transition: $duration;
    position: relative;
    border-radius: 12px;

    &:hover {
        background-color: $grey-1;
        // .file-item-icon {
        //     opacity: 0;
        // }
        // .file-item-edit {
        //     opacity: 1;
        //     pointer-events: auto;
        // }
        &:has(.file-item-edit) {
            .file-item-icon {
                opacity: 0;
            }
            .file-item-edit {
                opacity: 1;
                pointer-events: auto;
            }
        }
    }

    &:not(:last-child) {
        margin-bottom: 4px;
    }

    &.controls-active {
        background-color: $grey-1;
        z-index: 2;
        .file-item-edit {
            opacity: 1;
            pointer-events: auto;
            background-color: $grey-3;
        }
        .file-item-icon {
            opacity: 0;
        }
        .file-item-controls {
            display: block;
        }
    }

    &-edit {
        opacity: 0;
        pointer-events: none;
        transition: $duration;
        width: 24px;
        height: 24px;
        flex-shrink: 0;
        border-radius: 6px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 4'%3E%3Cpath d='M9.125 2C9.125 2.62128 8.62128 3.125 8 3.125C7.37872 3.125 6.875 2.62128 6.875 2C6.875 1.37872 7.37872 0.875 8 0.875C8.62128 0.875 9.125 1.37872 9.125 2Z' fill='white'/%3E%3Cpath d='M15.125 2C15.125 2.62128 14.6213 3.125 14 3.125C13.3787 3.125 12.875 2.62128 12.875 2C12.875 1.37872 13.3787 0.875 14 0.875C14.6213 0.875 15.125 1.37872 15.125 2Z' fill='white'/%3E%3Cpath d='M3.125 2C3.125 2.62128 2.62128 3.125 2 3.125C1.37872 3.125 0.875 2.62128 0.875 2C0.875 1.37872 1.37872 0.875 2 0.875C2.62128 0.875 3.125 1.37872 3.125 2Z' fill='white'/%3E%3C/svg%3E%0A");
        background-size: 16px 4px;
        background-position: center;
        background-repeat: no-repeat;
        position: absolute;
        top: 8px;
        left: 12px;
        z-index: 2;
        &:hover {
            background-color: $grey-3;
        }
    }
    &-icon {
        flex-shrink: 0;
        transition: $duration;
        svg {
            width: 24px;
            height: 24px;
        }
    }
    &-title {
        font-size: 14px;
        line-height: 16px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-left: 8px;
        margin-right: auto;
        user-select: none;
    }
    &-checkbox {
        flex-shrink: 0;
        margin-left: 16px;
        &:hover {
            .checkbox-box {
                &::before {
                    opacity: 1;
                }
            }
        }
        input:checked + .checkbox-box {
            background-color: $theme-color;
            border-color: $theme-color;
            &::before {
                // content: none;
                opacity: 0;
            }
            &::after {
                opacity: 1;
            }
        }
        .checkbox-box {
            width: 20px;
            height: 20px;
            border: 1px solid $grey-3;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: $duration;
            position: relative;
            &::before {
                content: '';
                position: absolute;
                inset: 2px;
                border-radius: 4px;
                background-color: $grey-3;
                opacity: 0;
                transition: $duration;
            }
            &::after {
                content: '';
                display: block;
                width: 16px;
                height: 16px;
                background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.35374 7.64663L3.35355 7.64645C3.25979 7.55268 3.13261 7.5 3 7.5C2.86739 7.5 2.74021 7.55268 2.64645 7.64645C2.55268 7.74021 2.5 7.86739 2.5 8C2.5 8.00801 2.50019 8.01602 2.50058 8.02402C2.50655 8.14818 2.55855 8.26566 2.64645 8.35355L2.64663 8.35374L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536L13.8536 4.85355C13.9473 4.75979 14 4.63261 14 4.5C14 4.36739 13.9473 4.24021 13.8536 4.14645C13.7598 4.05268 13.6326 4 13.5 4C13.3674 4 13.2402 4.05268 13.1464 4.14645L6.5 10.7929L3.35374 7.64663Z' fill='%231F1F1F'/%3E%3C/svg%3E%0A");
                background-size: 100% 100%;
                opacity: 0;
                transition: $duration;
            }
        }
    }

    &-controls {
        position: absolute;
        top: 8px;
        right: calc(100% - 8px);
        background-color: $grey-3;
        border-radius: 8px;
        overflow: hidden;
        display: none;
        button {
            display: flex;
            align-items: center;
            padding: 12px;
            color: $grey-4;
            min-width: 140px;
            transition: $duration;
            font-size: 14px;
            line-height: 16px;

            &:hover {
                background-color: $grey-2;
                color: #fff;
            }
            svg {
                width: 16px;
                height: 16px;
                flex-shrink: 0;
                margin-right: 6px;
                pointer-events: none;
            }
            span {
                pointer-events: none;
            }
        }
    }
}

.chat-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    // padding: 12px;
    padding: 8px 12px;
    transition: $duration;
    position: relative;
    border-radius: 12px;

    &:hover {
        background-color: $grey-1;
        button {
            opacity: 1;
            pointer-events: auto;
        }
    }

    &:not(:last-child) {
        margin-bottom: 4px;
    }

    &.controls-active {
        background-color: $grey-1;
        z-index: 2;

        .chat-item-edit {
            opacity: 1;
            pointer-events: auto;
            background-color: $grey-3;
        }

        .chat-item-controls {
            display: block;
        }
    }

    span {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    &-edit {
        opacity: 0;
        pointer-events: none;
        transition: $duration;
        width: 24px;
        height: 24px;
        flex-shrink: 0;
        margin-left: 16px;
        border-radius: 6px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 4'%3E%3Cpath d='M9.125 2C9.125 2.62128 8.62128 3.125 8 3.125C7.37872 3.125 6.875 2.62128 6.875 2C6.875 1.37872 7.37872 0.875 8 0.875C8.62128 0.875 9.125 1.37872 9.125 2Z' fill='white'/%3E%3Cpath d='M15.125 2C15.125 2.62128 14.6213 3.125 14 3.125C13.3787 3.125 12.875 2.62128 12.875 2C12.875 1.37872 13.3787 0.875 14 0.875C14.6213 0.875 15.125 1.37872 15.125 2Z' fill='white'/%3E%3Cpath d='M3.125 2C3.125 2.62128 2.62128 3.125 2 3.125C1.37872 3.125 0.875 2.62128 0.875 2C0.875 1.37872 1.37872 0.875 2 0.875C2.62128 0.875 3.125 1.37872 3.125 2Z' fill='white'/%3E%3C/svg%3E%0A");
        background-size: 16px 4px;
        background-position: center;
        background-repeat: no-repeat;
        &:hover {
            background-color: $grey-3;
        }
    }
    &-controls {
        position: absolute;
        top: 8px;
        left: calc(100% - 8px);
        background-color: $grey-3;
        border-radius: 8px;
        overflow: hidden;
        display: none;
        button {
            display: flex;
            align-items: center;
            padding: 12px;
            color: $grey-4;
            min-width: 140px;
            transition: $duration;
            font-size: 14px;
            line-height: 16px;

            &:hover {
                background-color: $grey-2;
                color: #fff;
            }
            svg {
                width: 16px;
                height: 16px;
                flex-shrink: 0;
                margin-right: 6px;
                pointer-events: none;
            }
            span {
                pointer-events: none;
            }
        }
    }
}